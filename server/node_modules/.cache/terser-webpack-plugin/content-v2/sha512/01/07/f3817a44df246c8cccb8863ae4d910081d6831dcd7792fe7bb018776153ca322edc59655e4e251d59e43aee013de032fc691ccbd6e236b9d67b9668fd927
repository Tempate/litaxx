{"code":"!function(t){var e={};function o(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=e,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var s in t)o.d(r,s,function(e){return t[e]}.bind(null,s));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,\"a\",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p=\"/js/\",o(o.s=2)}([function(t,e,o){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.Board=void 0;const r=o(1);var s,n;!function(t){t[t.White=0]=\"White\",t[t.Black=1]=\"Black\"}(s||(s={})),function(t){t[t.Blank=0]=\"Blank\",t[t.Gap=1]=\"Gap\",t[t.White=2]=\"White\",t[t.Black=3]=\"Black\"}(n||(n={}));class i{constructor(){this.stones=[];for(let t=0;t<49;t++)this.stones.push(n.Blank);this.turn=s.Black,this.ply=0,this.fifty_moves_counter=0}to_fen(){let t=\"\";for(let e=6;e>=0;e--){for(let o=0;o<7;o++){const r=7*e+o;switch(this.stones[r]){case n.Blank:0==t.length||isNaN(Number(t.charAt(t.length-1)))?t+=\"1\":(t=t.substring(0,t.length-1),t+=(Number(t.charAt(t.length-1))+1).toString());break;case n.Black:t+=\"x\";break;case n.White:t+=\"o\";break;case n.Gap:t+=\"-\"}}t+=\"/\"}return t+=\" \",t+=this.turn==s.Black?\"x\":\"o\",t+=\" \",t+=this.fifty_moves_counter.toString(),t+=\" \",t+=this.ply.toString(),t}from_fen(t){const e=t.split(\" \"),o=e[0];let r=0,i=6;for(let e=0;e<o.length;e++){const s=7*i+r;switch(o.charAt(e)){case\"x\":this.stones[s]=n.Black,r++;break;case\"o\":this.stones[s]=n.White,r++;break;case\"-\":this.stones[s]=n.Gap,r++;break;case\"1\":case\"2\":case\"3\":case\"4\":case\"5\":case\"6\":case\"7\":const o=t.charCodeAt(e)-Number(\"0\");for(let t=0;t<o;t++)this.stones[s+t]=n.Blank;r+=o;break;case\"/\":r=0,i--}}switch(e[1].charAt(0)){case\"x\":case\"X\":case\"b\":case\"B\":this.turn=s.Black;break;case\"o\":case\"O\":case\"w\":case\"W\":this.turn=s.White}this.fifty_moves_counter=Number(e[2])-Number(\"0\"),this.ply=Number(e[3])-Number(\"0\")}is_legal(t){const e=this.turn==s.White?n.White:n.Black;if(t.type==r.MoveType.Null){for(let t=0;t<this.stones.length;t++)if(this.stones[t]==n.Blank&&this.surrounding_stones(t,e,2).length>0)return!1;return!0}if(t.to<0||t.to>=49)return!1;if(this.stones[t.to]!=n.Blank)return!1;switch(t.type){case r.MoveType.Single:return this.surrounding_stones(t.to,e,1).length>0;case r.MoveType.Double:return!(t.from<0||t.from>=49)&&this.stones[t.from]==e}return!1}make(t){let e,o;this.turn==s.White?(e=n.White,o=n.Black):(e=n.Black,o=n.White);let i=0;switch(t.type){case r.MoveType.Double:this.stones[t.from]=n.Blank,i=this.fifty_moves_counter+1;case r.MoveType.Single:this.stones[t.to]=e,this.surrounding_stones(t.to,o,1).forEach(t=>{this.stones[t]=e})}this.turn==s.White?this.turn=s.Black:this.turn=s.White,this.fifty_moves_counter=i,this.ply+=1}reachable_squares(t){const e=i.coordinate_to_square(t);return this.surrounding_stones(e,n.Blank,2)}surrounding_stones(t,e,o){let r=[];const s=t%7,n=Math.floor(t/7);for(let t=Math.max(0,n-o);t<=Math.min(6,n+o);t++)for(let n=Math.max(0,s-o);n<=Math.min(6,s+o);n++){const o=7*t+n;this.stones[o]==e&&r.push(o)}return r}static coordinate_to_square(t){const e=t.charCodeAt(0)-\"a\".charCodeAt(0);return 7*(t.charCodeAt(1)-\"1\".charCodeAt(0))+e}static square_to_coordinate(t){const e=t%7,o=t/7;return String.fromCharCode(\"a\".charCodeAt(0)+e)+String.fromCharCode(\"1\".charCodeAt(0)+o)}}e.Board=i},function(t,e,o){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.Move=e.MoveType=void 0;const r=o(0);var s;!function(t){t[t.Single=0]=\"Single\",t[t.Double=1]=\"Double\",t[t.Null=2]=\"Null\"}(s=e.MoveType||(e.MoveType={}));e.Move=class{constructor(t,e){this.to=r.Board.coordinate_to_square(t),null==e?(this.type=s.Single,this.from=-1):(this.type=s.Double,this.from=r.Board.coordinate_to_square(e))}toString(){switch(this.type){case s.Single:return r.Board.square_to_coordinate(this.to);case s.Double:return r.Board.square_to_coordinate(this.from)+r.Board.square_to_coordinate(this.to);case s.Null:return\"0000\"}}}},function(t,e,o){o(0),t.exports=o(1)}]);","extractedComments":[]}